import numpy as np

# 客户点坐标
customer_points = np.array([
    [3.712529818, 3.512057599],
    [3.130403282, 5.244799171],
    [6.527466002, 5.676701218],
    [3.142599603, 4.213499276],
    [4.764355624, 7.889827706],
    [2.938429713, 7.133136835],
    [5.868587221, 4.257633262],
    [3.145542171, 4.569517958],
    [4.856176488, 1.964892906],
    [5.716059878, 2.809501438],
    [4.076952995, 5.663891062],
    [3.01444898, 3.323525314],
    [5.936727075, 3.122247278],
    [6.841990338, 3.751016033],
    [5.672554666, 1.862152122],
    [7.542084475, 3.085823992],
    [5.754850005, 1.180100742],
    [4.402074562, 3.501751095],
    [2.291877954, 2.430129494],
    [4.383085513, 1.753834711],
    [5.394094675, 4.883697025],
    [5.783797253, 5.7995514],
    [5.554123033, 3.134415344],
    [2.412836595, 3.917598411],
    [5.185185684, 5.926674247],
    [4.445715182, 6.919887337],
    [5.188003439, 3.950874091],
    [2.63377522, 5.665751952],
    [7.230417935, 4.387623352],
    [1.726586286, 3.131771926],
    [2.229253741, 3.24804242],
    [4.520681112, 5.217141934],
    [4.659394926, 8.002972789],
    [5.144416867, 8.548980996],
    [6.101672785, 8.661551519],
    [2.925656284, 6.408978431],
    [3.312516573, 6.374465323],
    [6.561123996, 1.543942148],
    [3.038321253, 2.792320247],
    [6.342661816, 7.755137252],
    [4.377849645, 6.122078611],
    [5.40868195, 4.547084778],
    [4.849796637, 4.697396159],
    [4.765498196, 6.620958372],
    [3.934830843, 6.708435769],
    [4.828142922, 2.2145764],
    [3.055246494, 6.3305482],
    [4.840915958, 2.916327203],
    [3.728996856, 5.85911371],
    [2.533962044, 6.90741472],
    [2.942796787, 8.339394736],
    [3.152492693, 7.124000133],
    [2.509295814, 3.299985385],
    [1.728907709, 5.609675045],
    [6.466905946, 5.372744917],
    [4.405830735, 6.155542251],
    [6.180941041, 6.432134033],
    [6.086293684, 8.561392905],
    [2.671479379, 6.674253622],
    [2.889844616, 1.955169982]
])

# 配送中心坐标
centers = np.array([
    [8.647590074, 6.396530453],
    [1.637448942, 6.128547248],
    [4.392265511, 1.076192432]
])

# 创建字典以存储每个配送中心的客户点
center_points = {i: [] for i in range(len(centers))}

# 分配每个客户点到最近的配送中心
for point_num, point in enumerate(customer_points, start=1):
    min_distance = float('inf')
    nearest_center = None
    for j, center in enumerate(centers):
        distance = np.linalg.norm(point - center)
        if distance < min_distance:
            min_distance = distance
            nearest_center = j
    
    # 检查当前配送中心的客户点数量是否已经达到20个
    if len(center_points[nearest_center]) < 20:
        center_points[nearest_center].append(point_num)
    else:
        # 如果当前配送中心的客户点数量已经达到了20个，则选择第二近的中心
        second_nearest_center = 1 - nearest_center
        center_points[second_nearest_center].append(point_num)

# 输出每个客户点及其所属的配送中心
for i, points in center_points.items():
    for j, point in enumerate(points):
        print(f"客户点 {point} 属于配送中心 {i+1}")
